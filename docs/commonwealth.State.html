<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: State</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Class: State</h1>
    
    



<section>
    
<header>
    <h2>
        <span class="ancestors"><a href="commonwealth.html">commonwealth</a>.</span>
    
    State
    </h2>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
<dt>
    <h4 class="name" id="State"><span class="type-signature"></span>new State<span class="signature">(<span class="optional">name_or_JSON</span>)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>State is the main class in commonwealth. It represents an
object that is both a state container and a state.
It is a composite state object.
For example, this may represent the controller for a login button
that contains two states, loggedIn and loggedOut which are also
both instances of State.</p>

<b>About JSON format:</b><br />

<p>A json object can be passed into the constructor to create the
intial values for your state object. The format looks like this:</p>
<pre>
{
    name: "string", // only required field
    states: {...},  // an object containing 1 or more states
                    // which follow the exact same syntax as this json object.
    defaultState: "stateName", // the name of a state to set as
                               // the default substate.
    resetOnEnter: true, // true or false. Sets the resetOnEnter property.
    methods: {...}, // 1 or more methods to add using #addStateMethod()
    transitions: {...},  // 1 or more transitions using the same syntax as
                        // #addTransition()
    onStateChange: function (){...}, // define onStateChange, enter, or exit
    enter: function (){...},
    exit: function (){...}
}
    </div>
    

    
    
    
        <h5>This:</h5>
        <ul><li>{<a href="commonwealth.State.html">commonwealth.State</a>}</li></ul>
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>name_or_JSON</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">object</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The name (id) of this state or a json object used to set properties of the state.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 63
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

    
    </div>
    
    
    
    
    
    
    
    
    
    
    
    
        <h3 class="subsection-title">Members</h3>
        
        <dl>
            
<dt>
    <h4 class="name" id="defaultState"><span class="type-signature"></span>defaultState<span class="type-signature"> :string|<a href="commonwealth.State.html">commonwealth.State</a></span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        Used in conjunction with resetOnEnter. The default substate
of the state.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 91
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="history"><span class="type-signature"></span>history<span class="type-signature"> :<a href="commonwealth.History.html">commonwealth.History</a></span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        A reference to the history object for this State.
The history object records the history of the different states
set on the State object.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 111
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="name"><span class="type-signature"></span>name<span class="type-signature"> :string</span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        A name (id) for the state. This name will be used
when referring to the state by a string rather than
by reference.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 81
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="resetOnEnter"><span class="type-signature"></span>resetOnEnter<span class="type-signature"> :boolean</span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        If true, the state will revert to its defaultState
when it is set as the currentState for a parent state.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 101
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="states"><span class="type-signature"></span>states<span class="type-signature"> :object</span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        An hash of states that have been registered as
substates.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 72
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        </dl>
    
    
    
        <h3 class="subsection-title">Methods</h3>
        
        <dl>
            
<dt>
    <h4 class="name" id="addCurrentState"><span class="type-signature"></span>addCurrentState<span class="signature">(state)</span><span class="type-signature"> &rarr; {<a href="commonwealth.State.html">commonwealth.State</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Adds a substate and sets it as the current state in one fell swoop!
    </div>
    

    
    
    
        <h5>This:</h5>
        <ul><li>{<a href="commonwealth.State.html">commonwealth.State</a>}</li></ul>
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>state</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="commonwealth.State.html">commonwealth.State</a></span>
|

<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">See addSubstate();</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 340
    </li></ul></dd>
    
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="commonwealth.State.html#addSubstate">commonwealth.State#addSubstate</a></li>
        
            <li><a href="commonwealth.State.html#setCurrentState">commonwealth.State#setCurrentState</a></li>
        </ul>
    </dd>
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The current state.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="commonwealth.State.html">commonwealth.State</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="addStateMethod"><span class="type-signature"></span>addStateMethod<span class="signature">(methodName_or_defaultFunction, <span class="optional">defaultFunction</span>)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Registers a method to be handled by the state object's current
state. When the method is called, the currentState() is checked to see
if it has an implementation of the method. This check cascades up the chain
to all subclass ancestors until the first one with the method defined is found.
If the method is never found in a subclass, the default method is called instead.
If the function has a function defined on it named `before` or `after`, that function
is called before or after the main function is called (regardless of what subclass
is ultimately used).
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>methodName_or_defaultFunction</code></td>
            
            
            <td class="type">
            
            </td>
            
            
                <td class="attributes">
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The name of the function to register, or a defaultFunction with a name.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>defaultFunction</code></td>
            
            
            <td class="type">
            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">A function to be called as the default if there is nothing defined in the substate.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 416
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="addSubstate"><span class="type-signature"></span>addSubstate<span class="signature">(state_or_name)</span><span class="type-signature"> &rarr; {<a href="commonwealth.State.html">commonwealth.State</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Registers a state as a substate of the State object.
If one doesn't exist, it automatically creates it and assigns it
the name parameter.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>state_or_name</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="commonwealth.State.html">commonwealth.State</a></span>
|

<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The state to register or the name of a state to create.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 303
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    <h5>Throws:</h5>
    <ul>
            <li>
<div class="param-desc">
    Argument Error if there is no state_or_name argument.
</div>


</li>
        
            <li>
<div class="param-desc">
    Invalid State ID Error if the name of the state provided is bogus.
</div>


</li>
        </ul>
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A reference to the state object
        that was passed in or created.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="commonwealth.State.html">commonwealth.State</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="addTransition"><span class="type-signature"></span>addTransition<span class="signature">(transition, map)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Registers a one or more state changes that occur when a message is
dispatched using trigger(). Also, this automatically registers a
method that triggers the event for you (using addStateMethod()).
Once a transition is registered, you can use either trigger() or
the generated method to transition.
e.g. trigger("foo"); or foo();

The map of state changes is an object with names of states paired
with the state they should change to when the transition event is
triggered. "*" can be used on the left side to match any state.
`null` can be used to transition TO "no state" and the string "null"
can be used to transition FROM the null state.
    </div>
    

    
    
    
        <h5>This:</h5>
        <ul><li>{<a href="commonwealth.State.html">commonwealth.State</a>}</li></ul>
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>transition</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The name of the transition to register.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>map</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last">An object with mappings of states to transition
                    to and from.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 552
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The method created for transitioning.
</div>



        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="currentState"><span class="type-signature"></span>currentState<span class="signature">(<span class="optional">state</span>)</span><span class="type-signature"> &rarr; {<a href="commonwealth.State.html">commonwealth.State</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Combination getter/setter for currentState using the JQuery style.
    </div>
    

    
    
    
        <h5>This:</h5>
        <ul><li>{<a href="commonwealth.State.html">commonwealth.State</a>}</li></ul>
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>state</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type"><a href="commonwealth.State.html">commonwealth.State</a></span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">If supplied, the
       currentState is set to this value. If the value is a state
       object, that object is used. If the value is a string, the
       string is interpreted as a state name.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 255
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The current state or null.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="commonwealth.State.html">commonwealth.State</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="finalCurrentState"><span class="type-signature"></span>finalCurrentState<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="commonwealth.State.html">commonwealth.State</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Gets the most distant ancestor of this state which is not null
or returns `this`.
    </div>
    

    
    
    
        <h5>This:</h5>
        <ul><li>{<a href="commonwealth.State.html">commonwealth.State</a>}</li></ul>
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 271
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="commonwealth.State.html">commonwealth.State</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="get"><span class="type-signature"></span>get<span class="signature">(prop)</span><span class="type-signature"> &rarr; {*}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Gets a property that is shared amongst all the states in the
chain. (The value is actually stored in the root state)
See also #set()
    </div>
    

    
    
    
        <h5>This:</h5>
        <ul><li>{<a href="commonwealth.State.html">commonwealth.State</a>}</li></ul>
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>prop</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The name of the property to return.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 383
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The value of the property, prop.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">*</span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getCurrentState"><span class="type-signature"></span>getCurrentState<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="commonwealth.State.html">commonwealth.State</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Returns the current state.
    </div>
    

    
    
    
        <h5>This:</h5>
        <ul><li>{<a href="commonwealth.State.html">commonwealth.State</a>}</li></ul>
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 174
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="commonwealth.State.html">commonwealth.State</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getStateByName"><span class="type-signature"></span>getStateByName<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="commonwealth.State.html">commonwealth.State</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Gets a substate of a state object based on the name property of that state.
    </div>
    

    
    
    
        <h5>This:</h5>
        <ul><li>{<a href="commonwealth.State.html">commonwealth.State</a>}</li></ul>
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 287
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="commonwealth.State.html">commonwealth.State</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="initWithJSON"><span class="type-signature"></span>initWithJSON<span class="signature">(json)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Uses a json object to set properties on a state object.
Normally this is used automatically by passing a json object to the
constructor. It can be used after an object has been instantiated
but keep in mind that values may get overridden.
    </div>
    

    
    
    
        <h5>This:</h5>
        <ul><li>{<a href="commonwealth.State.html">commonwealth.State</a>}</li></ul>
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>json</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last">See constructor for full documentation.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 162
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="on"><span class="type-signature"></span>on<span class="signature">(signal, handler)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Registers a function that is called when a signal is dispatched
using trigger().
    </div>
    

    
    
    
        <h5>This:</h5>
        <ul><li>{<a href="commonwealth.State.html">commonwealth.State</a>}</li></ul>
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>signal</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The message to respond to.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>handler</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The function to call when the message is 
                          dispatched.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 524
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="parentState"><span class="type-signature"></span>parentState<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="commonwealth.State.html">commonwealth.State</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Returns the state one higher in the chain. If state A uses
setCurrentState() on state B, B.parentState() points to A.
If there is no parent state, returns null.
    </div>
    

    
    
    
        <h5>This:</h5>
        <ul><li>{<a href="commonwealth.State.html">commonwealth.State</a>}</li></ul>
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 354
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The parent state of this or null.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="commonwealth.State.html">commonwealth.State</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="rootState"><span class="type-signature"></span>rootState<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="commonwealth.State.html">commonwealth.State</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Returns the state at the top of the chain.
If there is no parent state, returns itself.
    </div>
    

    
    
    
        <h5>This:</h5>
        <ul><li>{<a href="commonwealth.State.html">commonwealth.State</a>}</li></ul>
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 365
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The root state of this or this.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="commonwealth.State.html">commonwealth.State</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="set"><span class="type-signature"></span>set<span class="signature">(prop, val)</span><span class="type-signature"> &rarr; {*}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Sets a property that is shared amongst all the states in the
chain. (The value is actually stored in the root state)
See also #get()
    </div>
    

    
    
    
        <h5>This:</h5>
        <ul><li>{<a href="commonwealth.State.html">commonwealth.State</a>}</li></ul>
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>prop</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The name of the property to return.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>val</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The value of the property.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 398
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The value of the property, prop.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">*</span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="setCurrentState"><span class="type-signature"></span>setCurrentState<span class="signature">(newState)</span><span class="type-signature"> &rarr; {<a href="commonwealth.State.html">commonwealth.State</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Sets the current state and calls the appropriate
methods to enter and exit the state.
    </div>
    

    
    
    
        <h5>This:</h5>
        <ul><li>{<a href="commonwealth.State.html">commonwealth.State</a>}</li></ul>
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>newState</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type"><a href="commonwealth.State.html">commonwealth.State</a></span>


            
            </td>
            
            
            
            
            
            <td class="description last">The new current state or it's name only.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 188
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    Returns the currentState just set.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="commonwealth.State.html">commonwealth.State</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="stateChainToArray"><span class="type-signature"></span>stateChainToArray<span class="signature">()</span><span class="type-signature"> &rarr; {array}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Returns an array of State objects for the given object starting
with the object's root state and extending to the finalCurrentState.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 591
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">array</span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="toString"><span class="type-signature"></span>toString<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Standard implementation of toString() that returns the object type.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 581
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">string</span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="trigger"><span class="type-signature"></span>trigger<span class="signature">(message)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Dispatches a message to all of the children in the state chain.
    </div>
    

    
    
    
        <h5>This:</h5>
        <ul><li>{<a href="commonwealth.State.html">commonwealth.State</a>}</li></ul>
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>message</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">A message that is broadcast.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="commonwealth.js.html">commonwealth.js</a>, line 495
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        </dl>
    
    
    
    
    
</article>

</section>  




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="commonwealth.History.html">History</a></li><li><a href="commonwealth.State.html">State</a></li></ul><h3>Namespaces</h3><ul><li><a href="commonwealth.html">commonwealth</a></li><li><a href="commonwealth.utils.html">utils</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0-dev</a> on Mon Apr 29 2013 13:44:53 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
</body>
</html>
